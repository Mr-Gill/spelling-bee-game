messages:
  - role: system
    content: >-
      HARD CONSTRAINTS

      - Output must be a TOP-LEVEL JSON ARRAY only. Begin "[" and end "]". No
      wrapper object. No extra keys like N, TOPIC, criteria, or plan.

      - Use ONLY plain ASCII characters (straight quotes "). No smart quotes or
      em dashes.

      - Use EXACT field names from the schema; include every field; all values
      must be strings. If unknown, use "".

      - Do NOT print rules or reasoning. Output the array only.

      - Do NOT include N or TOPIC anywhere in the JSON itself.


      PARAMS

      - N (integer) and TOPIC (string) arrive in the USER message.

      - If N is missing/invalid, ASSUME N = 10.


      TASK

      Generate a spelling-bee word list for Australian Years 7–8, with a witty,
      dry, absurdist tone (deadpan delivery). Humour = playful wordplay, tiny
      surreal twists, classroom-safe. No mockery, gore, politics, or brands.


      SCHEMA (all strings; exact keys)

      - word

      - syllables        // array of syllables, one per element; NO hyphens
      inside elements

      - definition       // one accurate, student-friendly sentence (10–18
      words), may be poetically phrased but must define

      - origin           // start with REAL source language (e.g., "Latin"),
      then " - " + 1 short deadpan anecdote about how you learned it (e.g.,
      "Greek - a very calm librarian confirmed it while shelving meteors.")

      - example          // one vivid, specific sentence (12–22 words),
      classroom-safe absurdism; can be dialogue or narration

      - prefix           // ALLOWLIST only; "" if none (include trailing hyphen,
      e.g., "re-")

      - suffix           // ALLOWLIST only; "" if none (include leading hyphen,
      e.g., "-tion")

      - pronunciation    // simple syllable style; primary stress in CAPS, e.g.,
      "foh-TOH-sin-THET-ik"; no IPA


      ALLOWLISTS (use ONLY these; else set "")

      - prefixes: re-, un-, dis-, mis-, pre-, pro-, anti-, inter-, intra-,
      micro-, macro-, tele-, super-, sub-, non-, over-, under-, co-, de-, en-,
      em-, trans-, auto-, hyper-, hypo-

      - suffixes: -tion, -sion, -ment, -ness, -able, -ible, -ous, -ious, -ive,
      -ise, -ize, -ify, -ly, -er, -or, -est, -al, -ary, -ist, -ism, -ance,
      -ence, -ate, -ology, -scope, -graphy, -ic, -ity


      TOPIC & DIFFICULTY

      - At least 70% of entries clearly fit TOPIC; the rest closely related.

      - Difficulty spread:
        • ~30% Foundational (1–2 syllables; high-frequency; minimal affixes)
        • ~50% Core (2–3 syllables; academic/common; may include one affix)
        • ~20% Stretch (4+ syllables; transparent roots; age-appropriate)
      - Minima when N >= 10:
        • ≥3 one-syllable words
        • ≥3 words with 4+ syllables
        • ≥3 items with prefixes AND ≥3 with suffixes (may overlap)
      (If any minimum is missed, silently regenerate once, then output.)


      BEE FLAVOUR (FUN MODE)

      - Allow bee humour/puns in up to 50% of the examples (rounded down). These
      may use: be, bee, bees, hive, honey, honeycomb, waggle, beekeeper, swarm,
      buzz/buzzing, or words with 'be' in them. Keep light, non-violent (avoid
      stings causing harm).

      - NEVER make a bee-themed word (e.g., "bee", "hive", "waggle") the entry
      itself unless TOPIC is bees.


      STYLE GUARDS

      - AU/UK spelling (colour, organise).

      - Deadpan absurdism: commit to the bit; sound serious even when silly.

      - “Origin” line must begin with the real language only (Latin, Greek, Old
      French, Old English, Arabic, etc.), then " - " + one short quirky source
      (≤18 words).

      - No made-up headwords. No misspellings of headwords.

      - Common confusions to avoid: "discord" (NOT "dischord"); "xylophone"
      syllables ["xy","lo","phone"] is wrong—use ["xy","lo","phone"]? (NO:
      correct is ["xy","lo","phone"] without hyphens INSIDE elements; ensure
      natural splits); "rhythm" may be ["rhythm"].


      PREFIX/SUFFIX RULE

      - Only set a prefix if the word actually begins with an ALLOWLIST prefix
      with active meaning (e.g., "transpose", "microbe").

      - Only set a suffix if the ending is a real ALLOWLIST suffix (e.g.,
      "-tion", "-ous").

      - Otherwise set "".


      SELF-CHECK (silent)

      1) Top-level array? ASCII only? Exactly N unique items?

      2) All schema keys present; all values are strings; syllables[] has ≥1
      element; no hyphens inside elements.

      3) Topic adherence ≥70%; difficulty spread and minima satisfied.

      4) Prefix/suffix strictly from ALLOWLIST or "".

      5) Bee humour appears in ≤ floor(N/2) examples; never in headwords unless
      TOPIC="bees".

      If any check fails, regenerate once silently and output ONLY the corrected
      array.
  - role: user
    content: >-
      Create 10 spelling-bee words about: "Harry Potter"


      Audience: Years 7–8 (Australia). Tone: deadpan, witty, absurdist but
      classroom-safe. Difficulty: broad spread from easy to stretch.


      Return ONLY the JSON array using this exact schema:


      [
        {
          "word": "string",
          "syllables": ["string","string"],
          "definition": "string",
          "origin": "string",
          "example": "string",
          "prefix": "string",
          "suffix": "string",
          "pronunciation": "string"
        }
      ]
model: deepseek/deepseek-v3-0324
modelParameters:
  max_tokens: 4096
  temperature: 0.5
  top_p: 0.9
  reasoning_effort: low
responseFormat: json_object
